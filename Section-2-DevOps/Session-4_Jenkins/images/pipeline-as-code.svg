<?xml version="1.0" encoding="UTF-8"?>
<svg width="1000" height="700" viewBox="0 0 1000 700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="codeGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#2c3e50;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#34495e;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="pipelineGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3498db;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#2ecc71;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f39c12;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="2" flood-color="#00000020"/>
    </filter>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#2c3e50"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1000" height="700" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="500" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#2c3e50">Pipeline as Code - Jenkinsfile Flow</text>
  
  <!-- Jenkinsfile Code Block -->
  <g id="jenkinsfile">
    <rect x="50" y="60" width="400" height="300" rx="10" fill="url(#codeGradient)" filter="url(#shadow)"/>
    <rect x="50" y="60" width="400" height="30" rx="10" fill="#1a252f"/>
    <text x="250" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">Jenkinsfile</text>
    
    <!-- Code Content -->
    <text x="70" y="110" font-family="Courier, monospace" font-size="11" fill="#e74c3c">pipeline {</text>
    <text x="90" y="130" font-family="Courier, monospace" font-size="11" fill="#3498db">agent any</text>
    
    <text x="90" y="150" font-family="Courier, monospace" font-size="11" fill="#e74c3c">stages {</text>
    <text x="110" y="170" font-family="Courier, monospace" font-size="11" fill="#f39c12">stage('Checkout') {</text>
    <text x="130" y="190" font-family="Courier, monospace" font-size="11" fill="#2ecc71">steps {</text>
    <text x="150" y="210" font-family="Courier, monospace" font-size="11" fill="#ffffff">git 'https://github.com/repo.git'</text>
    <text x="130" y="230" font-family="Courier, monospace" font-size="11" fill="#2ecc71">}</text>
    <text x="110" y="250" font-family="Courier, monospace" font-size="11" fill="#f39c12">}</text>
    
    <text x="110" y="270" font-family="Courier, monospace" font-size="11" fill="#f39c12">stage('Build') {</text>
    <text x="130" y="290" font-family="Courier, monospace" font-size="11" fill="#2ecc71">steps {</text>
    <text x="150" y="310" font-family="Courier, monospace" font-size="11" fill="#ffffff">sh 'mvn clean package'</text>
    <text x="130" y="330" font-family="Courier, monospace" font-size="11" fill="#2ecc71">}</text>
    <text x="110" y="350" font-family="Courier, monospace" font-size="11" fill="#f39c12">}</text>
    <text x="90" y="370" font-family="Courier, monospace" font-size="11" fill="#e74c3c">}</text>
    <text x="70" y="390" font-family="Courier, monospace" font-size="11" fill="#e74c3c">}</text>
  </g>
  
  <!-- Arrow from Jenkinsfile to Pipeline -->
  <path d="M 450 200 Q 500 200 550 200" fill="none" stroke="#2c3e50" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="500" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">Parsed by Jenkins</text>
  
  <!-- Pipeline Execution -->
  <g id="pipeline-execution">
    <rect x="550" y="60" width="400" height="300" rx="10" fill="url(#pipelineGradient)" filter="url(#shadow)"/>
    <rect x="550" y="60" width="400" height="30" rx="10" fill="#2980b9"/>
    <text x="750" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">Pipeline Execution</text>
    
    <!-- Stage Boxes -->
    <rect x="570" y="110" width="100" height="60" rx="5" fill="#3498db" filter="url(#shadow)"/>
    <text x="620" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">CHECKOUT</text>
    <text x="620" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Git Clone</text>
    <text x="620" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">✓ Success</text>
    
    <rect x="690" y="110" width="100" height="60" rx="5" fill="#2ecc71" filter="url(#shadow)"/>
    <text x="740" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">BUILD</text>
    <text x="740" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Maven</text>
    <text x="740" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">✓ Success</text>
    
    <rect x="810" y="110" width="100" height="60" rx="5" fill="#f39c12" filter="url(#shadow)"/>
    <text x="860" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">TEST</text>
    <text x="860" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">JUnit</text>
    <text x="860" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">✓ Success</text>
    
    <rect x="570" y="190" width="100" height="60" rx="5" fill="#9b59b6" filter="url(#shadow)"/>
    <text x="620" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">QUALITY</text>
    <text x="620" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Analysis</text>
    <text x="620" y="240" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">✓ Passed</text>
    
    <rect x="690" y="190" width="100" height="60" rx="5" fill="#e74c3c" filter="url(#shadow)"/>
    <text x="740" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">DEPLOY</text>
    <text x="740" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">AWS EC2</text>
    <text x="740" y="240" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">✓ Deployed</text>
    
    <rect x="810" y="190" width="100" height="60" rx="5" fill="#1abc9c" filter="url(#shadow)"/>
    <text x="860" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">NOTIFY</text>
    <text x="860" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Email</text>
    <text x="860" y="240" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">✓ Sent</text>
    
    <!-- Flow arrows within pipeline -->
    <line x1="670" y1="140" x2="690" y2="140" stroke="white" stroke-width="2" marker-end="url(#arrow)"/>
    <line x1="790" y1="140" x2="810" y2="140" stroke="white" stroke-width="2" marker-end="url(#arrow)"/>
    <line x1="620" y1="170" x2="620" y2="190" stroke="white" stroke-width="2" marker-end="url(#arrow)"/>
    <line x1="670" y1="220" x2="690" y2="220" stroke="white" stroke-width="2" marker-end="url(#arrow)"/>
    <line x1="790" y1="220" x2="810" y2="220" stroke="white" stroke-width="2" marker-end="url(#arrow)"/>
  </g>
  
  <!-- Benefits of Pipeline as Code -->
  <g id="benefits">
    <rect x="50" y="400" width="900" height="120" rx="15" fill="#ecf0f1" filter="url(#shadow)"/>
    <text x="500" y="430" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#2c3e50">Benefits of Pipeline as Code</text>
    
    <!-- Benefit boxes -->
    <rect x="80" y="450" width="150" height="50" rx="8" fill="#3498db" filter="url(#shadow)"/>
    <text x="155" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">VERSION CONTROL</text>
    <text x="155" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Track pipeline changes</text>
    
    <rect x="250" y="450" width="150" height="50" rx="8" fill="#2ecc71" filter="url(#shadow)"/>
    <text x="325" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">REPRODUCIBLE</text>
    <text x="325" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Same results every time</text>
    
    <rect x="420" y="450" width="150" height="50" rx="8" fill="#f39c12" filter="url(#shadow)"/>
    <text x="495" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">COLLABORATIVE</text>
    <text x="495" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Team can contribute</text>
    
    <rect x="590" y="450" width="150" height="50" rx="8" fill="#9b59b6" filter="url(#shadow)"/>
    <text x="665" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">AUDITABLE</text>
    <text x="665" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Complete history</text>
    
    <rect x="760" y="450" width="150" height="50" rx="8" fill="#e74c3c" filter="url(#shadow)"/>
    <text x="835" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">SCALABLE</text>
    <text x="835" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Easy to replicate</text>
  </g>
  
  <!-- Pipeline Syntax Examples -->
  <g id="syntax-examples">
    <rect x="50" y="540" width="450" height="140" rx="10" fill="#2c3e50" filter="url(#shadow)"/>
    <text x="275" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">Declarative Pipeline Syntax</text>
    
    <text x="70" y="585" font-family="Courier, monospace" font-size="10" fill="#e74c3c">pipeline {</text>
    <text x="90" y="600" font-family="Courier, monospace" font-size="10" fill="#3498db">agent { label 'linux' }</text>
    <text x="90" y="615" font-family="Courier, monospace" font-size="10" fill="#f39c12">tools { maven 'Maven-3.8' }</text>
    <text x="90" y="630" font-family="Courier, monospace" font-size="10" fill="#2ecc71">environment { APP_ENV = 'production' }</text>
    <text x="90" y="645" font-family="Courier, monospace" font-size="10" fill="#9b59b6">stages { /* stages here */ }</text>
    <text x="90" y="660" font-family="Courier, monospace" font-size="10" fill="#1abc9c">post { always { cleanWs() } }</text>
    <text x="70" y="675" font-family="Courier, monospace" font-size="10" fill="#e74c3c">}</text>
    
    <!-- Advanced Features -->
    <rect x="520" y="540" width="430" height="140" rx="10" fill="#34495e" filter="url(#shadow)"/>
    <text x="735" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">Advanced Pipeline Features</text>
    
    <text x="540" y="585" font-family="Arial, sans-serif" font-size="11" fill="#3498db">• Parallel Execution</text>
    <text x="540" y="600" font-family="Arial, sans-serif" font-size="11" fill="#2ecc71">• Conditional Stages (when)</text>
    <text x="540" y="615" font-family="Arial, sans-serif" font-size="11" fill="#f39c12">• Input Steps (Manual Approval)</text>
    <text x="540" y="630" font-family="Arial, sans-serif" font-size="11" fill="#9b59b6">• Matrix Builds</text>
    <text x="540" y="645" font-family="Arial, sans-serif" font-size="11" fill="#e74c3c">• Shared Libraries</text>
    <text x="540" y="660" font-family="Arial, sans-serif" font-size="11" fill="#1abc9c">• Pipeline Restart</text>
    
    <text x="720" y="585" font-family="Arial, sans-serif" font-size="11" fill="#3498db">• Error Handling</text>
    <text x="720" y="600" font-family="Arial, sans-serif" font-size="11" fill="#2ecc71">• Timeout Management</text>
    <text x="720" y="615" font-family="Arial, sans-serif" font-size="11" fill="#f39c12">• Retry Logic</text>
    <text x="720" y="630" font-family="Arial, sans-serif" font-size="11" fill="#9b59b6">• Artifact Management</text>
    <text x="720" y="645" font-family="Arial, sans-serif" font-size="11" fill="#e74c3c">• Notifications</text>
    <text x="720" y="660" font-family="Arial, sans-serif" font-size="11" fill="#1abc9c">• Blue Ocean UI</text>
  </g>
</svg>
